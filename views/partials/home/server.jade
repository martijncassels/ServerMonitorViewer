//- Start Content
.d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pb-2.mb-3.border-bottom
	h1.h2 Dashboard
	.btn-toolbar.mb-2.mb-md-0
		.btn-group.mr-2
			button(ng-click='vm.getLiveCustomerChartData()').btn.btn-sm.btn-outline-secondary Update
.row
	.col-md-6
		.card
			.card-header 
				h5 
					i.fas.fa-address-card
					|                   Licenses
			.list-group
				div(ng-repeat='license in vm.licenses track by $index', style='padding:5px;').list-group-item.d-flex.w-100.justify-content-between
					.mb-2 {{license.description}}
					.mb-2 {{license.ActiveLicenses}} of {{license.licenses}} used ({{license.status}})
br
canvas(id='bar',chart-data='vm.data',chart-labels='vm.labels',chart-series='vm.series',chart-options='vm.options',height='50').chart.chart-bar
//canvas(id='bar',chart-data='vm.metricschartdata',chart-labels='vm.metricschartlabels',chart-series='vm.metricschartseries',chart-options='vm.options',height='150',chart-dataset-override="vm.metricsdatasetOverride" ).chart.chart-bar
br
uib-progressbar(max='vm.max', value='vm.dynamic')
	span(style='color:white; white-space:nowrap;'){{vm.dynamic/1000}} / {{vm.max/1000}}
br
h2 Events
div(ng-show='vm.mockdata.length>0').table-responsive
	table.table.table-striped.table-sm
		thead
			tr
				th RemoteQueuedMetricKey
				th Timestamp
				th InstanceName
				th DatabaseName
				th Metric
				th MetricValue
				th MetricThreshold
				th ThresholdValue
				th LastQueuedMetricKey
				th Message
		tbody
			tr(ng-repeat='records in vm.mockdata | orderBy:"-RemoteQueuedMetricKey"')
				td {{records.RemoteQueuedMetricKey}}
				td {{records.Timestamp}}
				td {{records.InstanceName}}
				td {{records.DatabaseName}}
				td {{records.Metric}}
				td {{records.MetricValue}}
				td {{records.MetricThreshold}}
				td {{records.ThresholdValue}}
				td {{records.LastQueuedMetricKey}}
				td {{records.Message}}
div(ng-hide='vm.mockdata.length>0').alert.alert-info No events!
br 
//canvas(id='line',chart-data='[vm.archivecounterschartdata["OrderCount"],vm.archivecounterschartdata["OrderRowCount"],vm.archivecounterschartdata["PartyCount"],vm.archivecounterschartdata["PartyVirtualCount"],vm.archivecounterschartdata["PartyMutationCount"],vm.archivecounterschartdata["ExinvoiceCount"],vm.archivecounterschartdata["PricelistCount"],vm.archivecounterschartdata["PricelistRowCount"],vm.archivecounterschartdata["VPSupplylineCount"],vm.archivecounterschartdata["PartyTransactionCount"]]',chart-labels='vm.archivecounterschartdata["ArchiveCounterKey"]',chart-series='vm.archivecounterschartseries',chart-options='vm.options',height='150').chart.chart-line
canvas(id='line',chart-data='vm.archivecounterschartdata',chart-labels='vm.archivecounterschartdata[1]',chart-series='vm.archivecounterschartseries',chart-options='vm.options',height='100').chart.chart-line
br
br
.row
	.col-md-12
		.table-responsive
			table.table.table-striped.table-sm
				thead
					//th ArchiveCounterKey
					th CounterTimestamp
					th OrderCount
					th OrderRowCount
					th PartyCount
					th PartyVirtualCount
					th PartyMutationCount
					th ExinvoiceCount
					th PricelistCount
					th PricelistRowCount
					th VPSupplylineCount
					th PartyTransactionCount
				tbody
					tr(ng-repeat='counter in vm.archivecounters | orderBy:"-ArchiveCounterKey"')
						//td {{counter.ArchiveCounterKey}}
						td {{counter.CounterTimestamp}}
						td {{counter.OrderCount}}
						td {{counter.OrderRowCount}}
						td {{counter.PartyCount}}
						td {{counter.PartyVirtualCount}}
						td {{counter.PartyMutationCount}}
						td {{counter.ExinvoiceCount}}
						td {{counter.PricelistCount}}
						td {{counter.PricelistRowCount}}
						td {{counter.VPSupplylineCount}}
						td {{counter.PartyTransactionCount}}
//- End Content
