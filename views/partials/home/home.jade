//- Start Content
script(type='text/ng-template', id='menu1.html').
	<div class="fixed-action-btn">
	<a class="btn-floating btn-large purple darken-3">
		<i class="large material-icons">mode_edit</i>
	</a>
	<ul>
		<li><button data-tooltip="Update data" ng-click='vm.getLiveChartData()' class="btn-floating red tooltipped"><i class="material-icons">update</i></button></li>
	</ul>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			$('.fixed-action-btn').floatingActionButton();
			$('.tooltipped').tooltip({position: 'left'});
		});	
	</script>
ng-include(src="'menu1.html'")
.row
	.col.s12.m12
		.card
			.card-content
				| tempdb on AXE-SQL01 ({{vm.gettempdb[0].Log_file_used}}MB / {{vm.gettempdb[0].Log_file}}MB) :
				//- p Data file (MB): {{vm.gettempdb[0]["Data_file"]}}
				//- p Log file (MB): {{vm.gettempdb[0]["Log_file"]}}
				//- p Log file space used (MB): {{vm.gettempdb[0]["Log_file_used"]}}
				.progress
					div(ng-style="{ 'width': (vm.gettempdb[0].Log_file_used / vm.gettempdb[0].Log_file)*100 + '%' }").determinate
//- .row
//- 	.col.s12
//- 		h5.h5 Dashboard
//- 		h6 Events
//- 		div(ng-show='vm.mockdata.length>0')
//- 			table.responsive-table
//- 				thead
//- 					tr
//- 						th(ng-repeat='(key,value) in vm.mockdata[0]') {{key}}
//- 				tbody
//- 					tr(ng-repeat='records in vm.mockdata | orderBy: "-RemoteQueuedMetricKey"')
//- 						td(ng-repeat='(key,value) in records') {{value}}
//- 		div(ng-hide='vm.mockdata.length>0').alert.alert-info No events!
//- End Content
.row
	div(ng-repeat='record in vm.mockdata | orderBy: "-RemoteQueuedMetricKey"').col.s12.m4
		div(ng-if='record.Metric!="Heartbeat"')
			.card.red.lighten-1
				.card-content.white-text
					span.card-title {{record.Alias}} ({{record.InstanceName}} / {{record.DatabaseName}})
					h4.center-align {{record.MetricValue}} / {{record.ThresholdValue}}
					.row
						.col.s3
							p Metric:
							p Value:
							p Threshold:
							p Timestamp:
						.col.s6
							p {{record.Metric}} 
							p {{record.MetricValue}} 
							p {{record.ThresholdValue}}
							p {{record.Timestamp}}
				.card-action.red.darken-1
					a(href='/server/{{record.InstanceName}}/{{record.Alias}}/{{record.DatabaseName}}') Details
					a(href='#') Dismiss this occurence
					a(href='#') Dismiss series
		div(ng-if='record.Metric=="Heartbeat"')
			.card.red.lighten-1
				.card-content.white-text
					span.card-title {{record.Alias}} ({{record.InstanceName}} / {{record.DatabaseName}})
					h4.center-align No Heartbeat!
					.row
						.col.s3
							p Last record
						.col.s6
							p {{record.Timestamp}}
				.card-action.red.darken-1
					a(href='/server/{{record.InstanceName}}/{{record.Alias}}/{{record.DatabaseName}}') Details
					a(href='#') Dismiss this occurence
					a(href='#') Dismiss series
